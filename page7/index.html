<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>so, it's come to this...</title>
    <meta name="description" content="I'll hear a technique or technology mentioned, it stirs around in my brain, and then I fall down that rabbit hole. If I make it back with my sanity intact, I'll usually write about it here.
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://soitscometothis.net/page7/">
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-25777158-1', 'auto');
  ga('send', 'pageview');

</script>
<script type="text/javascript" src="/js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="/js/bigfoot.min.js"></script>
<script type="text/javascript">
    $.bigfoot();
</script>
</head>


  <body>

<header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">so, it's come to this...</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/about/">About</a>
        <a class="page-link" href="/archive/">Archive</a>
        <a class="page-link" href="/tags/">Tags</a>
        <a class="page-link" href="/tag/TextExpander/">TextExpander</a>
        <a class="page-link" href="/tag/Keyboard%20Maestro/">Keyboard Maestro</a>
        <a class="page-link" href="/feed.xml">              <span class="icon  icon--twitter"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"

	 width="19px" height="19px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve" fill= "#828282">

<path id="rss-icon" d="M161.757,406.249c0,30.791-24.96,55.751-55.75,55.751c-30.79,0-55.751-24.96-55.751-55.751

	s24.961-55.75,55.751-55.75C136.796,350.499,161.757,375.458,161.757,406.249z M50.256,190.424v82.593

	C153.994,274.083,238.172,358.261,239.238,462h82.593C320.764,312.48,199.774,191.491,50.256,190.424z M50.256,132.602

	c87.695,0.381,170.084,34.695,232.135,96.747c62.175,62.173,96.506,144.764,96.754,232.651h82.6

	C461.228,234.858,277.333,50.794,50.256,50V132.602z"/>

</svg></span>

</a>
        <a class="page-link" href="https://twitter.com/nuclearzenfire">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>
            </a>
      </div>
    </nav>

  </div>

</header>

    <div class="page-content">
      <div class="wrapper">
        <div class="home">

<h1 class="page-heading"></h1>

<ul class="post-list">

  <!-- This loops through the paginated posts -->
  
    <li>
      <span class="post-meta">Mar 12, 2013</span>
      
      <h2><a class="post-link" href="/App-craze-hits-hospitals-as-doctors-go-mobile">Hospitals and regulations stifle physician adoption of mobile technology</a></h2>
      
      <div class="content"><p>I repeatedly see articles blaming physicians for the poor adoption of technology in medicine. As a tech nerd and a physician who is frustrated with the lack of good medical software (mostly EMRs), it was nice to see an article putting the blame where it mostly belongs: regulation and hospitals.<sup id="fnref:1363099346-fn1"><a href="#fn:1363099346-fn1" class="footnote">1</a></sup></p>

<p><a href="https://twitter.com/NSHBIZboyer">E.J. Boyer</a> for the <a href="http://www.bizjournals.com/nashville/print-edition/2013/03/08/app-craze-hits-hospitals-as-doctors-go.html">Nashville Business Journal</a> (subscription only):</p>

<blockquote>
  <p>[A] growing number of physicians are taking a cue from their personal lives and using mobile devices to make their jobs more efficient.</p>
</blockquote>

<p>Just like “normal people”, physicians want their life to be easier and when they see how technology improves one aspect of their life, they want to see similar improvements in other aspects. </p>

<blockquote>
  <p>But industry experts predict the road to adoption won’t be easy, as data security, IT integration and looming federal regulations come into play.</p>
</blockquote>

<p>A constant problem in all areas of medicine, regulations continue to choke the life out of medical practice. </p>

<blockquote>
  <p>But even as physicians continue to see the benefits of mobile apps in practicing medicine, experts warn the road to full adoption will be long. For starters, health apps and mobile devices present a new privacy and security challenge for hospitals, which operate under tight regulations and strict federal patient privacy laws.</p>
</blockquote>

<blockquote>
  <p>Physicians are driving the need for it. They want to be able to see the data on the phones and iPads, but the hospitals are not jumping on it as quickly.</p>
</blockquote>

<p>When I got the first iPad, I was told by hospital IT that it “couldn’t connect” to the system. When I figured out how to get it connected, I was told it was “not allowed”. They refused to explain how accessing the system from my laptop at home (fully supported) was different than accessing the system from my iPad as we rounded on patients. Eventually, as more higher level attendings bought the devices for themselves, seeing how useful they were to the residents, the policy changed to “not supported”. I wonder if that’s changed any since I left?<sup id="fnref:1363099346-fn2"><a href="#fn:1363099346-fn2" class="footnote">2</a></sup></p>

<blockquote>
  <p>Another road block to mobile adoption is integration of apps into a hospitals IT system.</p>
</blockquote>

<p>This is because the EMRs that hospitals use are closed, proprietary systems. They are built on old architectural standards. The database systems are closed and or proprietary. There are no APIs. The EMR companies want to keep the system closed to stifle competition. They want to be the only one that can make an app for their system and they charge astronomical prices for mobile apps for their EMRs, often a large percentage of the original cost all over again. </p>

<p>I still remain optimistic that one day cooperate medicine will have and use decent technology, although I’m realistic enough to know this may never happen in my lifetime. Until then, I will continue to develop my own private systems for my every day practice. </p>

<p>As for the truly luddite physicians out there: eventually they’ll die<sup id="fnref:1363099346-fn3"><a href="#fn:1363099346-fn3" class="footnote">3</a></sup>, and if the technology is good enough to provide substantial benefits to those physicians using it, the luddites won’t be able to compete.</p>

<div class="footnotes">
  <ol>
    <li id="fn:1363099346-fn1">
      <p>Poor quality software is another driving factor. <a href="#fnref:1363099346-fn1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:1363099346-fn2">
      <p>I was also told that Macs were not able to be used as the technology wouldn’t work. Within 2 months my fellowship program had switched to Macs, but I had had to do most of the work. At one point I tried to talk to the Mac guy in IT had was repeatedly told “There isn’t one.” It ended up that he was on vacation, and when he got back he responded to the long email chain saying “Hey, I do exist. I’m right here!”</p>

      <p>I think a lot of the resistance is aversion to more work, interestingly, coming from the technology people, not the physicians/users. <a href="#fnref:1363099346-fn2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:1363099346-fn3">
      <p>“I mean, when I started in this business one of the biggest challenges was that people couldn’t type. And one day we realized that death would eventually take care of this. - <a href="http://www.edibleapple.com/2011/09/01/steve-jobs-explains-why-apple-wasnt-keen-on-tablet-computing-back-in-2003/">Steve Jobs</a> <a href="#fnref:1363099346-fn3" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </li>
  
    <li>
      <span class="post-meta">Mar 5, 2013</span>
      
      <h2><a class="post-link" href="/Create-side-by-side-screen-shots-on-iOS-with-Pythonista">Create side-by-side screen shots on iOS with Pythonista</a></h2>
      
      <div class="content"><p>First, I have to thank <a href="https://twitter.com/viticci">Federico Viticci</a>, whose <a href="http://www.macstories.net/tutorials/chaining-tweetbot-pythonista-drafts-and-imessage-for-urls/">detailed</a> <a href="http://www.macstories.net/tutorials/from-instapaper-and-pythonista-to-dropbox-and-evernote-as-pdf/">blog</a> <a href="http://www.macstories.net/stories/automating-ios-how-pythonista-changed-my-workflow/">posts</a> on his use of Pythonista inspired me to use it and learn Python as well. </p>

<p>I don’t use iOS devices as exclusively as he does, but when I am using them I want them to be as powerful and automated as my Mac is. One use case that Federico demonstrated was using Pythonista to take two screen shots (such as of an app before and after an update) and create a new image of both screen shots side by side, such as he might need for an app review blog post. His old script was a bit hacky due to the situation at the time.</p>

<p>Pythonista was <a href="http://www.macstories.net/reviews/pythonista-1-3-brings-camera-roll-and-notification-center-support-new-library-view-and-more/">recently updated</a> to include the ability to pick images from the camera roll from inside Pythonista as well as the ability to save generated images to the camera roll.</p>

<p>I decided to fork his original code to include these features and to remove some options that I don’t need.</p>

<p>When you run this script you will be prompted to choose an image from the camera roll. This will be the image on the left of the combined final image. Then you will be prompted to choose a second image. Naturally, this image will be on the right. The image will be generated and saved to the camera roll.</p>

<p>You can get the script from Gist <a href="https://gist.github.com/nuclearzenfire/5090763">here</a>.</p>

<pre><code>"""
This code takes two screenshots from the camera roll combines them into one image and saves the new image to the camera roll.

This is adapted from Federico Viticci's blog post at:
http://www.macstories.net/stories/automating-ios-how-pythonista-changed-my-workflow/
It removes the option to change which picture is where, automatically assigning the first one chosen as the leftmost image.
It also removes the necessity to copy the images to the clipboard outside of Pythonista using the new photos library in version 1.3. Finally, it removes the clipboard output.
"""

import photos
import Image
import console

im1 = photos.pick_image(show_albums=False)
im2 = photos.pick_image(show_albums=False)

background = Image.new('RGBA', (746,650), (255, 255, 255, 255))

console.clear()
print "Generating image..."
console.show_activity()

_1 = im1.resize((366,650),Image.ANTIALIAS)
_2 = im2.resize((366,650),Image.ANTIALIAS)
background.paste(_1,(0,0))
background.paste(_2,(380,0))
photos.save_image(background)
console.hide_activity()
print "Image saved to camera roll."
</code></pre>

<p>Here’s an image I created with it for an upcoming comparison of the text-parsing of Pocket vs. Instapaper:</p>

<p><a href="/images/sidebyside.jpg"><img src="/images/sidebyside.jpg" alt="" /></a> </p>

<p>Next, I need to make a way for this image to be uploaded to my public Dropbox folder and the public link to be placed in the clipboard.</p>

<p>I can’t wait for more posts by Frederico so I can keep learning.</p>

</div>
    </li>
  
    <li>
      <span class="post-meta">Feb 28, 2013</span>
      
      <h2><a class="post-link" href="/Switching-the-current-viewed-webpage-between-Safari-and-Chrome">Switching the current viewed webpage between Safari and Chrome</a></h2>
      
      <div class="content"><p><strong>Update:</strong> This macro was made for Keyboard Maestro 5. Although it will work with KM 6, a newer version of the macro is available as is much simpler and faster with less risk of bugs.</p>

<h3 id="problem">Problem</h3>

<p>Safari is my typical browser of choice, but sometimes I want to open a webpage I’m already looking at in Safari in Chrome instead<sup id="fnref:20130228142554"><a href="#fn:20130228142554" class="footnote">1</a></sup>. Sometimes I’m looking at a webpage in Chrome and want to open it in Safari. </p>

<h3 id="solution">Solution</h3>

<p>It’s not super elegant, but I made a Keyboard Maestro macro to switch back and forth. </p>

<p>It consists of two nested if/then statements that check for which browser I’m using, grabs the URL of the front window, opens the other browser, pauses until the browser is running and the front window is open, pastes the URL into the navigation bar, and finally hits enter.</p>

<ul>
  <li>If Safari is at the front
    <ul>
      <li>Execute the Applescript <code>tell application "Safari" to get the URL of the front document</code> and save results to variable <code>currentURL</code></li>
      <li>Activate Google Chrome</li>
      <li>Pause until Google Chrome is at the front and the front window exists</li>
      <li>Type the keystroke ⌘T</li>
      <li>Type the keystroke ⌘L</li>
      <li>Insert the text by pasting: <code>current URL</code></li>
      <li>Type the keystroke <code>return</code></li>
    </ul>
  </li>
  <li>otherwise execute the following
    <ul>
      <li>If Google Chrome is at the front
        <ul>
          <li>Execute Applescript <code>tell application "Google Chrome" to get the URL of active tab of first window</code> and save results to variable <code>currentURL</code></li>
          <li>Activate Safari</li>
          <li>Pause until Safari is at the front and the front window exists</li>
          <li>Type the keystroke ⌘T</li>
          <li>Type the keystroke ⌘L</li>
          <li>Insert the text by pasting: <code>current URL</code></li>
          <li>Type the keystroke <code>return</code></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>I assigned the shortcut Caps lock (which on my computer simultaneously pressed shift-command-control-option) - u. </p>

<p><a href="/images/open_current_webpage_in_other_browser.png"><img src="/images/open_current_webpage_in_other_browser.png" alt="" /></a> </p>

<p><a href="/images/Open_current_webpage_in_the_other_browser.kmmacros">Download the macro</a>.</p>

<div class="footnotes">
  <ol>
    <li id="fn:20130228142554">
      <p>For example, if you’re limiting Flash to Chrome only via <a href="http://daringfireball.net/2010/11/flash_free_and_cheating_with_google_chrome">the Gruber method</a>. <a href="#fnref:20130228142554" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </li>
  
    <li>
      <span class="post-meta">Feb 26, 2013</span>
      
      <h2><a class="post-link" href="/Calculating-Dates-with-Siri">Calculating dates with Siri</a></h2>
      
      <div class="content"><p><a href="http://macsparky.com/blog/2013/2/calculating-dates-with-siri">David Sparks is my kind of nerd</a>:</p>

<blockquote>
  <p>Maybe it’s a lawyer thing but I quite frequently need to calculate dates. For instance, I need to figure out what day is 30 days after I serve documents on somebody or how many days elapsed between date X and date Y. </p>
</blockquote>

<blockquote>
  <p>I was thinking this would be really convenient if I could do it with Siri but the Siri documentation doesn’t say anything about calculating dates. After a little experimentation, however, I stumbled upon the necessary syntax:</p>
</blockquote>

<p>Why are you still here? <a href="http://macsparky.com/blog/2013/2/calculating-dates-with-siri">Go</a>.</p>
</div>
    </li>
  
    <li>
      <span class="post-meta">Feb 26, 2013</span>
      
      <h2><a class="post-link" href="/Text-to-speech-for-OS-X-and-iOS">Text-to-speech for OS X and iOS</a></h2>
      
      <div class="content"><h2 id="introduction">Introduction</h2>

<p>I love to read and have to read a lot for my work and hobbies, but sometimes, for various reasons, reading is not ideal. Maybe my eyes are tired. Maybe I need to do something physical that precludes the physical act of reading but not the mental aspect.<sup id="fnref:201302261054"><a href="#fn:201302261054" class="footnote">1</a></sup> In those situations, I let my software read to me with text-to-speech. </p>

<h2 id="text-to-speech-on-ios">Text-to-speech on iOS</h2>

<p>Text-to-speech on iOS is already built into the OS. To turn it on go to <code>Settings &gt; General &gt; Accessibility &gt; Speak Selection</code> and turn it on. You can also switch the dialect if you want.<sup id="fnref:1302260948"><a href="#fn:1302260948" class="footnote">2</a></sup> From now on, when you highlight any text, one of the options on the pop up menu will be “speak”. Hit this and the text will be read to you. There is a major limitation with this: <strong>if you lock the device or switch to a different application, the reading stops.</strong></p>

<p>Another option is a dedicated app. <a href="https://twitter.com/SiMBa37">A colleague</a> recommends <a href="https://itunes.apple.com/us/app/voice-dream-reader-text-to/id496177674?mt=8&amp;partnerId=30&amp;siteID=l8AT4zEd6Ao">Voice Dream Reader</a> for 10 USD in the App Store. I have not used it so I can’t comment on it.</p>

<h2 id="text-to-speech-on-os-x">Text-to-speech on OS X</h2>

<p>OS X also has built-in text-to-speech software. As far as I can tell, it is always on, but that may be a left over preference on my machine from years back so to check, go to  <code>System Preferences &gt; Dictation &amp; Speech</code>. I also turn on the keyboard shortcut for this. Otherwise, all you need to do is highlight some text, right click, and select <code>Speech &gt; Start Speaking</code>. </p>

<p>I use this frequently when reading an article and I get tired, or I need to be doing something else like cooking at the same time. I’ve also found that just turning this on when reading something important like a medical journal article lets others know I’m doing something work related rather than just surfing the internet for memes, i.e. don’t interrupt. It is also a great way to proof read your writing. What your eyes often miss, your ears will clearly hear.</p>

<h2 id="text-to-speech-os-x-to-ios">Text-to-speech OS X to iOS</h2>

<p>Sometimes there is a very large article I want to read but don’t want to sit at my machine for an extended period to time. Thankfully, OS X has some built in functions that allow you to turn the text into an audio file using the text-to-speech functions. OS X comes with this ability pre-programmed in the services section. To turn it on, go to <code>System Preferences &gt; Keyboard &gt; Keyboard Shortcuts &gt; Services &gt; Text</code> and make sure <code>Add to iTunes as a Spoken…</code> is checked. From then on, when you have text highlighted, you can right click, go to Services, and click on <code>Add to iTunes as a Spoken…</code>. This will convert the text-to-speech, first as a lossless AIFF (a very large file). It will then re-encode using AAC (to make it a smaller file) and then import into iTunes under a special playlist. </p>

<p>This works fine in general, but I don’t usually sync my iPhone with iTunes as I keep most things in the cloud. Thankfully, Automator<sup id="fnref:1302261013"><a href="#fn:1302261013" class="footnote">3</a></sup> makes it very easy to create your own.<sup id="fnref:201302261023"><a href="#fn:201302261023" class="footnote">4</a></sup></p>

<p><a href="/images/AutomatorTTS.png"><img src="/images/AutomatorTTS.png" alt="" /></a> </p>

<p>This creates a service for when text is selected. You run it the same as the prior service: right click, go to Services, and click on <code>The Name of the Service</code>. It changes the text to audio format, saving to the location of your choice, and using the voice of your choice. It then re-encodes the file to a format most compatible with spoken word, thus greatly decreasing the file size, and deletes the original file. I have it save to a folder inside Dropbox so that I can play it later (or sooner) on any device I have.</p>

<div class="footnotes">
  <ol>
    <li id="fn:201302261054">
      <p>Cooking, doing dishes, folding laundry. <a href="#fnref:201302261054" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:1302260948">
      <p>I prefer Australian English. <a href="#fnref:1302260948" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:1302261013">
      <p>A built-in part of OS X. <a href="#fnref:1302261013" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:201302261023">
      <p>Or just take mine. <a href="#fnref:201302261023" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </li>
  
    <li>
      <span class="post-meta">Feb 18, 2013</span>
      
      <h2><a class="post-link" href="/Batch-converting-Pages-documents-to-PDF">Batch converting Pages documents to PDF with Keyboard Maestro</a></h2>
      
      <div class="content"><p>I had 3000 Pages documents that I wanted to convert PDF. I had previously searched the internet for a way to do this easily but was unsuccessful. I suppose I should have tried searching again, because I would have found <a href="http://www.yourmacteacher.com/batch-convert-pages-documents-to-pdf/">Pages2PDF</a>, which works much better than what I did. </p>

<p>Still, relying on someone to create the exact program you need is not as fun or as useful as being able to fix the problem yourself. So I created a Keyboard Maestro macro.</p>

<p>Basically, this automates the steps I would have had to do manually:</p>

<ol>
  <li>Open the file in Pages.</li>
  <li>Select Export to PDF from the menu.</li>
  <li>Fix the file name.<sup id="fnref:130218165655"><a href="#fn:130218165655" class="footnote">1</a></sup></li>
  <li>Move the original file to a new location.</li>
</ol>

<p>In Keyboard Maestro parlance the steps were:</p>

<ul>
  <li>For Each Item in a the Finder’s selection
    <ol>
      <li>Set the file name to a variable fileName</li>
      <li>Set the file path to a variable filePath</li>
      <li>Open the file at filePath/fileName<sup id="fnref:130218170000"><a href="#fn:130218170000" class="footnote">2</a></sup> in Pages.</li>
      <li>Pause for 1.5 seconds.<sup id="fnref:130218170107"><a href="#fn:130218170107" class="footnote">3</a></sup></li>
      <li>Select the menu item PDF… in the submenu Export in the Menu Title File.</li>
      <li>Press the Button labeled “Next…”</li>
      <li>Insert the text from variable %WindowName%1% by pasting. (Basically, this names the file being exported the same as the original file name, except for the extension.)</li>
      <li>Press the button labeled “Export”.</li>
      <li>Type the keystroke ?-W (to close the open file)</li>
      <li>Move the file %Variable%filePath%/%Variable%fileName% to whateverLocationYouWant/%Variable%fileName%</li>
    </ol>
  </li>
</ul>

<p>It worked perfectly if somewhat slow. It took several hours to process all the files. </p>

<p><a href="/images/PagestoPDF.png"><img src="/images/PagestoPDF.png" alt="" /></a> </p>

<div class="footnotes">
  <ol>
    <li id="fn:130218165655">
      <p>For some reason, Pages kept truncating my filenames. <a href="#fnref:130218165655" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:130218170000">
      <p>I don’t know why I had to specifically use the path and name. Sometimes KM works fine without that and sometimes it doesn’t. I haven’t figured out why and when. <a href="#fnref:130218170000" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:130218170107">
      <p>I didn’t test this step any. I just assumed KM would need time for the document to fully open in Pages. <a href="#fnref:130218170107" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </li>
  
    <li>
      <span class="post-meta">Feb 12, 2013</span>
      
      <h2><a class="post-link" href="/Legal-troubles">Legal troubles</a></h2>
      
      <div class="content"><p><a href="http://www.nytimes.com/2013/02/11/us/lawyers-call-for-drastic-change-in-educating-new-lawyers.html?src=me&amp;ref=general">The New York Times</a>:</p>

<blockquote>
  <p>The proposals are a result of numerous factors, including a sharp drop in law school applications, the outsourcing of research over the Internet, a glut of underemployed and indebted law school graduates and a high percentage of the legal needs of Americans going unmet.</p>
</blockquote>

<blockquote>
  <p>“There is almost universal agreement that the current system is broken,” said Thomas W. Lyons III, a Rhode Island lawyer and a member of the American Bar Association’s Task Force on the Future of Legal Education, which gathered here over the weekend for a public hearing at the association’s midyear meeting.</p>
</blockquote>

<p>This sounds eerily similar to the situation in the medical world (minus the part about underemployment).</p>

</div>
    </li>
  
    <li>
      <span class="post-meta">Jan 30, 2013</span>
      
      <h2><a class="post-link" href="/NIH-Stroke-Scale">NIH Stroke Scale with Keyboard Maestro and TextExpander</a></h2>
      
      <div class="content"><p>A colleague of mine wanted a way to easily document the NIH stroke scale score with the added benefits of not having to type the whole thing each time, prompts to remember what to evaluate and what the scores mean, and also have the final score calculated for him. Requirements included that the input had to be in TextExpander due to a preference for that applications input style, and the output would have to be in the middle of a Pages document that was using a single font and no bold or italics.</p>

<p>He had already created the TextExpander snippet and basically needed me to figure out a way to use KM to calculate the score and put it into the note. Oh, one more thing: He wanted to do this with only one command. </p>

<h2 id="challenge-accepted">Challenge accepted!</h2>

<p>The KM macro first types out the shortcut for the TE macro, which calls the TE snippet pop up window, and then pauses until the TE snippet window disappears. </p>

<p>The TE window has all the steps of the NIH Stroke Scale including prompts to remind the user how to do it correctly.</p>

<p><a href="/images/NIH_stroke_TE_menu.png"><img src="/images/NIH_stroke_TE_menu.png" alt="NIH Stroke Scale TE Menu" /></a> </p>

<p>Once the TE part is complete, the KM macro continues. All it really does it use regular expressions to find the individual numbers in the scale and add them together for the final score. Since the final score is really just simple addition of 15 single digit numbers, the whole exercise is a bit of a Rube Goldberg, but it was fun anyway and any less brain power and time needed at 2 in the morning during a stroke is probably a good thing.</p>

<p>And the final result:</p>

<video width="640" height="480" controls="controls">
  <source src="/images/NIH_stroke_scale.m4v" type="video/mp4" />
  Your browser does not support the video tag.
</video>

<p><a href="/images/NIH_stroke_scale.jpg"><img src="/images/NIH_stroke_scale.jpg" alt="" /></a> </p>

<p>The resulting KM macro file <a href="/images/Calc_NIH_stroke_score_from_TE_macro_combo.kmmacros">is here</a>.</p>

<p>The original TE snippet:</p>

<pre><code>NIH STROKE SCALE %1m/%e/%Y %H:%M
1a. Level of Consciousness:	%fillpopup:name=1a.:default=0 (Keenly responsive.):1 (Arousable with minor stimulation):2 (Requires strong stimulation):3 (Comatose)%
1b. LOC Questions (month/age):	%fillpopup:name=1b:default=0  (Answers both questions correctly):1  (Answers one question correctly):2  (Answers neither question correctly)%
1c. LOC Commands (eyes/grip):	%fillpopup:name=1c:default=0  (Performs both tasks correctly):1  (Performs one task correctly):2  (Performs neither task correctly)%
2.   Best Gaze:			%fillpopup:name=2:default=0  (Normal):1  (Partial gaze palsy):2  (Forced deviation)%
3.   Visual:			%fillpopup:name=3:default=0  (No visual loss.):1  (Partial hemianopia):2  (Complete hemianopia):3  (Bilateral hemianopia)%
4.   Facial Palsy:			%fillpopup:name=4:default=0 (Normal):1 (Minor paralysis):2 (Partial/Central paralysis):3 (Complete paralysis)%
5a. Motor Left Arm:		%fillpopup:name=5a:default=0 (No drift for 10 seconds):1 (Drift without touching):2 (Some effort against gravity):3 (No effort against gravity):4 (No movement):0 (Amputation or fusion)%
5b. Motor Right Arm:		%fillpopup:name=5b:default=0 (No drift for 10 seconds):1 (Drift without touching):2 (Some effort against gravity):3 (No effort against gravity):4 (No movement):0 (Amputation or fusion)%
6a. Motor Left Leg:		%fillpopup:name=6a:default=0 (No drift for 10 seconds):1 (Drift without touching):2 (Some effort against gravity):3 (No effort against gravity):4 (No movement):0 (Amputation or fusion)%
6b. Motor Right Leg:		%fillpopup:name=6b:default=0 (No drift for 10 seconds):1 (Drift without touching):2 (Some effort against gravity):3 (No effort against gravity):4 (No movement):0 (Amputation or fusion)%
7.   Limb Ataxia:			%fillpopup:name=7:default=0 (Absent):1 (Present in one limb):2 (Present in two limbs):0 (Amputation or fusion)%
8.   Sensory:			%fillpopup:name=8:default=0 (Normal):1 (Mild to moderate loss):2 (Severe loss)%
9.   Best Language:		%fillpopup:name=9:default=0 (No Aphasia):1 (Mild to moderate):2 (Severe aphasia):3 (Mute or global aphasia)%
10. Dysarthria:			%fillpopup:name=10:default=0 (Normal):1 (Mild to moderate):2 (Severe dysarthria):0 (Intubated or other)%
11. Extinction and Inattention:	%fillpopup:name=11:default=0 (Normal):1 (To one modality):2 (Profound loss)%
TOTAL:				
</code></pre>
</div>
    </li>
  
    <li>
      <span class="post-meta">Jan 18, 2013</span>
      
      <h2><a class="post-link" href="/Stupid-EMR-UI-Example-2">Stupid EMR UI Example 2</a></h2>
      
      <div class="content"><p>I love tech and I especially love software, but like most things that we deeply love, when they fall short, it’s very hard to not get angry.</p>

<p>This is one reason I have such a hatred for the current state of Electronic Medical Records. They’re abysmal. <a href="http://vimeo.com/31926572">John Gruber even makes fun of them</a>. (Minute 24:28, but the whole talk is worth listening too.)</p>

<p>Today I share <a href="http://soitscometothis.net/post/stupid-emr-ui">another example</a> of poor design.</p>

<p>In the EMR I use now, NextGen, I’ve been complaining about the joint injection procedure template for 1.5 years. They still haven’t fixed it.</p>

<p>I use a standard medication called Synvisc One. Synvisc regular is a 2ml (16mg) injection you give once a week for 3 weeks. Synvisc One is all 6ml (48mg) given at once.</p>

<p>Just to lay out all the numbers for you. This medication is available as:</p>

<ul>
  <li>2ml</li>
  <li>6ml</li>
  <li>16mg</li>
  <li>48mg</li>
</ul>

<p>That’s it. Two strengths. Expressed either in a volume or a mass.</p>

<p>You can document this in two places in the procedure template. I want to point out, that this is the first mistake, having two places to document one thing.</p>

<p>And here’s how they look:</p>

<p><img src="/images/Synvisc_Nextgen_order_1.png" alt="" /> </p>

<p>First, there’s no units. Specifically it just says “units”. Is that milliliters? Liters? Milligrams? Grams? Number of injections? Is this for Synvisc or Synvisc One? If I pick one of these, what am I actually documenting or ordering? The closest guess is that this is in milliliters, but then you can’t pick “6”, the size of Synvisc One. There is a “2”, so you could document Synvisc regular. Even then, <strong>1 in 5 available choices will always be wrong</strong>. Why even offer a possible wrong choice?!?! I also point out that this is a pop up menu, so you’ve already been removed from the screen you’re working on.</p>

<p>And here is how the second place to document it looks: </p>

<p><img src="/images/Synvisc_Nextgen_order_2.png" alt="" /> </p>

<p>This one at least has units, but still has all the other problems. </p>

<p>I would offer the following fixes:</p>

<ol>
  <li>Have only one place to order the drug.</li>
  <li>Instead of a pop up window, make it a radial button choice. </li>
  <li>Have two options: Synvisc and Synvisc One</li>
</ol>

<p>This improve things as follows:</p>

<ol>
  <li>Only one place to document. </li>
  <li>No choices that are wrong.</li>
  <li>No extra pop up menu.</li>
  <li>No need for the user to know the milligrams, milliliters, or any other unit. They just need to be able to read what is on the box.</li>
</ol>

<p>I hope that before I die<sup id="fnref:1301182110"><a href="#fn:1301182110" class="footnote">1</a></sup>, a decent EMR exists. </p>

<p>We have a long way to go.</p>

<div class="footnotes">
  <ol>
    <li id="fn:1301182110">
      <p>It wouldn’t hurt if it wasn’t horribly ugly either. <a href="#fnref:1301182110" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </li>
  
    <li>
      <span class="post-meta">Jan 13, 2013</span>
      
      <h2><a class="post-link" href="/Inline-Markdown-links-from-Safari-tabs">Inline Markdown links from Safari tabs</a></h2>
      
      <div class="content"><p>This post is mostly for me, so I can remember how I did this in the future.</p>

<p>I was creating show notes for a podcast I do. I needed to make a list of links to scientific papers. Even using Markdown rather than HTML it took me an insanely long amount of time to manually copy over the titles and links. So I decided I’d spend the next hour never doing that again.</p>

<p>First, I figured out a way to get the links easily. Unfortunately, <a href="http://www.mekentosj.com/papers/">Papers</a> does not have a way to easily copy out the information directly, but it does have a way to highlight all the papers you want to link and open them all in tabs in your browser.</p>

<p>Now that I had all the papers open in their own tab, I needed a way to make Markdown links from them. I thought I had read something about doing this before, but I couldn’t find it again<sup id="fnref:1301132310"><a href="#fn:1301132310" class="footnote">1</a></sup>, but I did find <a href="http://www.leancrew.com/all-this/2012/07/markdown-reference-links-from-safari-tabs/">a post by Dr. Drang</a> that got me halfway there. The only problem was that his method only gave me the second half of a list of reference links when what I wanted was inline links with the title of the webpage as the text.</p>

<p>His technique gave me this:</p>

<pre><code>[1]: website url
[2]: website url
[3]: website url
[4]: website url
</code></pre>

<p>When what I wanted was this:</p>

<pre><code>[Website Title](website url)
[Website Title](website url)
[Website Title](website url)
[Website Title](website url)
</code></pre>

<p>I like reference links too, but I needed the title of the paper for my purposes and I already have another macro that I use to turn inline links into reference links later.</p>

<p>My Applescript knowledge is weak, but I quickly found <a href="http://lucifr.com/2012/09/01/selected-safari-tabs-to-markdown-reference-links/">this page</a>, which I can’t read because it’s in Chinese, and by looking at the code, figured out how to get what I needed.</p>

<p>I changed Dr. Drang’s original code:</p>

<pre><code>tell application "Safari"
  set i to 1
  set links to ""
  repeat with t in every tab in front window
    set links to links &amp; "[" &amp; i &amp; "]: " &amp; the URL of t &amp; linefeed
    set i to i + 1
  end repeat
  return links
end tell
</code></pre>

<p>to this:</p>

<pre><code>tell application "Safari"
  set i to 1
  set links to ""
  repeat with t in every tab in front window
    set links to links &amp; "[" &amp;the name of t&amp; "](" &amp; the URL of t &amp;")"&amp; linefeed
    set i to i + 1
  end repeat
  return links
end tell
</code></pre>

<p>You can then throw that into a TextExpander snippet or a Keyboard Maestro Macro and you’re prestige.</p>

<p>Frankly, Papers needs a way to do this in the app itself.</p>

<div class="footnotes">
  <ol>
    <li id="fn:1301132310">
      <p>I need a Nerd-blog Search Engine <a href="#fnref:1301132310" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
    </li>
  
</ul>
</div>

<!-- Pagination links -->
<nav id="pagination">
    
      
      <a href="/page6/" title="Previous Page">&laquo; Newer</a>
      
    
    
     
    <a href="/page8/" title="Next Page">Older &raquo;</a>
     
  </nav>
      </div>
    </div>

<footer class="site-footer">

  <div class="wrapper">

    <a href="#top"><h2 class="footer-heading">so, it's come to this...</h2></a>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li><p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p></li>
        </ul>
                <ul class="social-media-list">
                  
          <li>
            <a href="https://twitter.com/nuclearzenfire">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">nuclearzenfire</span>
            </a>
          </li>
          
          
          
          <li>
            <a href="https://github.com/nuclearzenfire">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">nuclearzenfire</span>
            </a>
          </li>
          

        </ul>
      </div>

      <div class="footer-col  footer-col-2">

      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">I'll hear a technique or technology mentioned, it stirs around in my brain, and then I fall down that rabbit hole. If I make it back with my sanity intact, I'll usually write about it here.
</p>
      </div>
    </div>

  </div>

</footer>

  </body>

</html>
